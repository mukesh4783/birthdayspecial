<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Happy Birthday ðŸŽ‰</title>
  <style>
    body {
      background: radial-gradient(circle, #ffe6f0, #ffc2d1);
      font-family: 'Segoe UI', sans-serif;
      text-align: center;
      padding-top: 30px;
      margin: 0;
      font-size: 18px; /* base size for mobile */
    }

    h1 {
      color: #b30059;
      margin-bottom: 110px; /* extra space so candles never overlap */
      font-size: 2.2rem;
    }

    /* Cake */
    .cake {
      position: relative;
      width: 85vw;
      max-width: 360px;
      height: 220px;
      margin: 0 auto;
      background: #ffb3d9;
      border-radius: 0 0 20px 20px;
      box-shadow: inset 0 -15px #ff80bf;
    }

    .cake::before {
      content: "";
      position: absolute;
      top: -40px;
      left: 0;
      width: 100%;
      height: 40px;
      background: #fff0f5;
      border-radius: 20px 20px 0 0;
    }

    /* Candles */
    .candles {
      position: absolute;
      top: -55px; /* moved candles slightly down */
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      gap: 20px;
    }

    .candle {
      width: 14px;
      height: 50px;
      background: repeating-linear-gradient(
        45deg,
        #ff4d4d,
        #ff4d4d 5px,
        #ffffff 5px,
        #ffffff 10px
      );
      border-radius: 6px;
      position: relative;
    }

    .flame {
      position: absolute;
      top: -18px;
      left: 50%;
      transform: translateX(-50%);
      width: 12px;
      height: 18px;
      background: radial-gradient(circle, #ffd633, #ff9900);
      border-radius: 50%;
      animation: flicker 0.3s infinite alternate;
    }

    @keyframes flicker {
      from { transform: translateX(-50%) scale(1); }
      to { transform: translateX(-50%) scale(0.9); }
    }

    .blow-btn {
      margin-top: 30px;
      padding: 16px 32px;
      font-size: 1.1rem;
      border: none;
      border-radius: 40px;
      background: #ff4d88;
      color: white;
      cursor: pointer;
    }

    .blow-btn:hover {
      background: #e6005c;
    }

    .message {
      font-size: 1.1rem;
      color: #660033;
      white-space: pre-line;
      line-height: 1.6;
    }

    .message-box {
      margin: 40px auto 0;
      padding: 25px 30px;
      width: 80%;
      max-width: 500px;
      background: #fff0f7;
      border-radius: 20px;
      box-shadow: 0 8px 25px rgba(0,0,0,0.15);
      position: relative;
      z-index: 3; /* ABOVE overlay */
      opacity: 0;
      transform: translateY(20px) scale(0.95);
      transition: opacity 1s ease, transform 1s ease, box-shadow 1s ease;
    }

    .message-box.show {
      opacity: 1;
      transform: translateY(0) scale(1);
      box-shadow: 0 0 25px rgba(255, 77, 136, 0.6);
    }

    .confetti {
      position: fixed;
      top: -10px;
      width: 10px;
      height: 10px;
      animation: fall 3s linear forwards;
      z-index: 2;
    }

    @keyframes fall {
      to {
        transform: translateY(110vh) rotate(720deg);
        opacity: 0;
      }
    }

    .overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.6);
      opacity: 0;
      pointer-events: none;
      transition: opacity 1.5s ease;
      z-index: 1; /* background only */
    }
  </style>
</head>
<body>

  <div class="overlay" id="overlay"></div>

  <h1>ðŸŽ‚ Happiest Birthday Kirti! ðŸŽ‚</h1>

  <div class="cake">
    <div class="candles">
      <div class="candle"><div class="flame"></div></div>
      <div class="candle"><div class="flame"></div></div>
      <div class="candle"><div class="flame"></div></div>
      <div class="candle"><div class="flame"></div></div>
      <div class="candle"><div class="flame"></div></div>
    </div>
  </div>

  <button class="blow-btn" onclick="blowCandles()">Blow the Candles ðŸŽ‰</button>

  <div class="message-box">
    <div class="message" id="message"></div>
  </div>

  <script>
    const lines = [
      "Happy Birthday, Love ðŸ’–",
      "You are the best thing that has ever happened to me.",
      "Falling in love with you was the easiest and most beautiful thing in my life.",
      "Thank you for being my safe place,",
      "where I can truly express all my feelings",
      "and forget all the worries and noise of the world.",
      "Thank you for letting me be a part of your journey.",
      "I promise we will continue walking this path together,",
      "hand in hand, till the end of time âœ¨",
      "Happy Birthday, Love ðŸŽ‚ðŸ’«"
    ];

    function blowCandles() {
      const flames = document.querySelectorAll('.flame');
      const overlay = document.getElementById('overlay');

      flames.forEach((flame, index) => {
        setTimeout(() => {
          flame.style.opacity = '0';
        }, index * 200);
      });

      overlay.style.opacity = '1'; // dim background only

      // Show message box after candles are fully blown
      setTimeout(() => {
        document.querySelector('.message-box').classList.add('show');
        showMessage();
        launchConfetti();
      }, flames.length * 200 + 500);
    }

    function showMessage() {
      const msg = document.getElementById('message');
      let i = 0;
      msg.innerHTML = '';
      const interval = setInterval(() => {
        msg.innerHTML += lines[i] + '\n';
        i++;
        if (i === lines.length) clearInterval(interval);
      }, 1100);
    }

    function launchConfetti() {
      for (let i = 0; i < 40; i++) {
        const confetti = document.createElement('div');
        confetti.className = 'confetti';
        confetti.style.left = Math.random() * 100 + 'vw';
        confetti.style.backgroundColor = `hsl(${Math.random() * 360}, 100%, 60%)`;
        confetti.style.animationDelay = Math.random() * 0.5 + 's';
        document.body.appendChild(confetti);
        setTimeout(() => confetti.remove(), 3000);
      }
    }
  </script>

</body>
</html>
